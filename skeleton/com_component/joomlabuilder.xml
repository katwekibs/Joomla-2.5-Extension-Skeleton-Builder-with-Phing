<?xml version="1.0" encoding="UTF-8"?>
<project name="@@componenthumanname@@ Component for Joomla 2.5" default="create_extension_packages" basedir=".">

	<property name="joomla"  value="DEFINE_PATH_HERE" />
	<property name="packages"  value="../packages" />

	<property name="@@componentfilename@@_src"   value="../@@com_component@@"/>
	
	<fileset dir="${@@componentfilename@@_src}" id="@@componentfilename@@_component_files">
		<include name="admin/**" />
		<include name="site/**" />
		<include name="@@componentfilename@@.xml" />
	</fileset>
	
	<target name="check_dependencies">
		<if>
            <equals arg1="${joomla}" arg2="DEFINE_PATH_HERE" />
	        <then>         
	            <fail message="Please set the joomla property to copy the files from development environment to the working Joomla 2.5 test environment!" />
	        </then>
	    </if>
	</target>
	
	<!--target name="copy_all" description="Copies files to test project." depends="check_dependencies">
		<echo message="Running build.xml. Copying files from dev to test..." />
		<copy file="${src}/authorunpublish.php" todir="${test}"/>
		<copy file="${src}/authorunpublish.xml" todir="${test}"/>
	</target-->
	
	<echo msg="Create installable extension packages (zip)" />

	<target name="create_extension_packages" description="Create installable extension packages..." depends="check_dependencies">
		<echo msg="Create @@com_component@@ extension package" />
		<delete file="${packages}/@@com_component@@.zip" />
		<zip destfile="${packages}/@@com_component@@.zip">
	 	    <fileset refid="@@componentfilename@@_component_files" />
		</zip>		
	</target>
</project>